<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="Mapper">
	<!-- parameter type 설정 필요 -->
	<insert id="join" parameterType="com.smhrd.model.User">
		insert into users values(#{id},#{pw},#{name},#{addr},#{phone},#{u_type},default)
	</insert>
	<select id="login" parameterType = "com.smhrd.model.User"
						resultType = "com.smhrd.model.User">
		select * from users where id=#{id} and pw=#{pw}
	</select>
	<!-- id 중복 체크용 => 있는지(true), 없는지(false) 유무를 boolean 반환 -->
	<select id="idCheck" resultType="int">
		select count(*) from users where id=#{id}
	</select>
	<update id="update" parameterType="com.smhrd.model.User">
		update users set pw=#{pw}, tel=#{tel}, address=#{address} where id = #{id}
	</update>
	<!-- 여러개의 데이터(행)을 리턴 받을 때 : resultType -> 리스트 내의 요소 자료형 -->
	<select id="select" resultType = "com.smhrd.model.User">
		select * from users
	</select>
	<!-- 회원 삭제 기능 -->
	<delete id="deleteone" parameterType = "com.smhrd.model.User">
		delete from users where id = #{id}
	</delete>
	
	<!-- 상품 등록 기능 -->
	<insert id="prod_insert" parameterType="com.smhrd.model.Products">
        INSERT INTO PRODUCTS (PROD_ID, ID, CATEGORY_ID, PROD_NAME, PROD_IMG, PROD_PRICE, PROD_COLOR, PROD_OP, PROD_DESC)
        VALUES (#{prod_id}, #{id}, #{category_id}, #{prod_name}, #{prod_img}, #{prod_price}, #{prod_color}, #{prod_op}, #{prod_desc})
    </insert>

	<!-- 상품 전체 조회 -->
	<select id="getAllProducts" resultType="com.smhrd.model.Products">
        SELECT * FROM PRODUCTS
    </select>
</mapper>